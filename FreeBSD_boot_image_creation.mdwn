Instructions for creating a PXE-bootable FreeBSD installation disk image.

(Based on these instructions: <http://syslinux.zytor.com/wiki/index.php/FreeBSD_disk_image_creation>)

1. Get the bootonly ISO image for the desired FreeBSD release: <http://ftp4.freebsd.org/pub/FreeBSD/releases/amd64/ISO-IMAGES/>
1. `dd if=/dev/zero of=FreeBSD-9.0-BETA3-amd64-bootonly.img bs=1k count=300000` #(Size should be a bit bigger than the ISO.)
1. `mdconfig -a -t vnode -f FreeBSD-9.0-BETA3-amd64-bootonly.img`
1. `bsdlabel -w -B md0 auto`
1. `newfs -m 0 md0a`
1. `mkdir /tmp/img && mount /dev/md0a /tmp/img ; df /tmp/img`
1. `mkdir /tmp/iso && mdconfig -a -t vnode -f FreeBSD-9.0-BETA3-amd64-bootonly.iso && mount -t cd9660 /dev/md1 /tmp/iso ; df /tmp/iso`
1. `cd /tmp/img && rsync -avHEh --progress --stats /tmp/iso/ .`
1. `cd && umount /tmp/img /tmp/iso && mdconfig -d -u 0 ; mdconfig -d -u 1`
1. Add a menu entry to pxelinux.cfg/default similar to the following, and copy the .img to the location specified:

    label freebsd
       kernel memdisk
       append initrd=freebsd/FreeBSD-9.0-BETA3-amd64-bootonly.img harddisk

[[!tag FreeBSD]]
